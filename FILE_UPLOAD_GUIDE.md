# 📤 파일 업로드 기능 사용 가이드

토지 정보를 일일이 입력하지 않고 파일로 한 번에 업로드하여 분석할 수 있습니다!

---

## 🎯 주요 기능

### ✨ 지원하는 파일 형식
- **Excel** (.xlsx, .xls) - 가장 편리
- **CSV** (.csv) - 간단한 데이터
- **JSON** (.json) - 프로그래밍 연동

### 💡 장점
- ⚡ **빠른 입력**: 여러 토지를 한 번에 입력
- 📊 **일괄 분석**: 모든 토지를 자동으로 분석
- 💾 **재사용**: 한 번 만든 파일을 계속 사용
- 🔄 **자동 변환**: 다양한 컬럼명 자동 인식

---

## 📋 사용 방법

### 1단계: 템플릿 다운로드

1. **토지 분석** 메뉴 선택
2. **📤 파일 업로드** 선택
3. 원하는 형식의 템플릿 다운로드
   - 📊 Excel 템플릿 (권장)
   - 📄 CSV 템플릿
   - 📋 JSON 템플릿

### 2단계: 토지 정보 입력

다운로드한 템플릿을 열어서 토지 정보를 입력합니다.

#### Excel/CSV 예시

| 주소 | 지목 | 면적 | 공시지가 | 용도지역 | 용도지구 | 도로접함 | 역거리 |
|------|------|------|----------|----------|----------|----------|--------|
| 경기도 성남시 분당구 정자동 123-45 | 대지 | 500 | 3000000 | 제2종일반주거지역 | 일반 | 예 | 0.8 |
| 서울시 강남구 역삼동 456-78 | 전 | 800 | 2500000 | 자연녹지지역 | 일반 | 아니오 | 2.5 |

#### JSON 예시

```json
[
  {
    "주소": "경기도 성남시 분당구 정자동 123-45",
    "지목": "대지",
    "면적": 500.0,
    "공시지가": 3000000,
    "용도지역": "제2종일반주거지역",
    "용도지구": "일반",
    "도로접함": "예",
    "역거리": 0.8
  }
]
```

### 3단계: 파일 업로드

1. 작성한 파일을 저장
2. **파일 업로드** 버튼 클릭
3. 파일 선택
4. 데이터 미리보기 확인

### 4단계: 분석 시작

1. **단일 분석**: 첫 번째 토지만 분석
2. **일괄 분석**: 모든 토지를 한 번에 분석 (체크박스 선택)
3. **🔍 분석 시작** 버튼 클릭

---

## 📊 필수 컬럼

### 반드시 포함해야 하는 정보

| 컬럼명 | 설명 | 예시 | 필수 |
|--------|------|------|------|
| 주소 | 토지 주소 | 경기도 성남시 분당구 정자동 123-45 | ✅ |
| 지목 | 토지 종류 | 대지, 전, 답, 임야 등 | ✅ |
| 면적 | 토지 면적 (㎡) | 500 | ✅ |
| 공시지가 | 단가 (원/㎡) | 3000000 | ✅ |
| 용도지역 | 용도지역 | 제2종일반주거지역 | ✅ |

### 선택 사항 (없으면 기본값 사용)

| 컬럼명 | 설명 | 기본값 |
|--------|------|--------|
| 용도지구 | 용도지구 | 일반 |
| 도로접함 | 도로 접함 여부 | 예 |
| 역거리 | 최근접 역까지 거리 (km) | 1.0 |

---

## 🔤 컬럼명 자동 인식

다양한 컬럼명을 자동으로 인식합니다!

### 주소
- ✅ 주소, address, 소재지, 위치, location

### 지목
- ✅ 지목, land_category, 토지종류, category, 용도

### 면적
- ✅ 면적, area, 토지면적, 평수, size

### 공시지가
- ✅ 공시지가, official_price, 가격, price, 단가

### 용도지역
- ✅ 용도지역, zone_type, zone, 지역, zoning

### 도로접함
- ✅ 도로접함, road_contact, 접도, road
- ✅ 값: 예/아니오, yes/no, true/false, O/X, 1/0

---

## 📝 지목 종류

다음 지목만 입력 가능합니다:

- 대지
- 전
- 답
- 과수원
- 임야
- 목장용지
- 공장용지
- 학교용지
- 주차장
- 주유소용지

---

## 🏘️ 용도지역 종류

### 주거지역
- 제1종전용주거지역
- 제2종전용주거지역
- 제1종일반주거지역
- 제2종일반주거지역
- 제3종일반주거지역
- 준주거지역

### 상업지역
- 중심상업지역
- 일반상업지역
- 근린상업지역

### 공업지역
- 일반공업지역
- 준공업지역

### 녹지지역
- 자연녹지지역
- 생산녹지지역
- 보전녹지지역

---

## 💡 팁과 주의사항

### ✅ 권장사항

1. **Excel 사용 권장**
   - 가장 편리하고 오류가 적음
   - 수식 사용 가능
   - 데이터 검증 기능 활용

2. **템플릿 활용**
   - 반드시 템플릿을 다운로드하여 사용
   - 컬럼 순서와 이름 유지
   - 예시 데이터 참고

3. **데이터 검증**
   - 업로드 전 데이터 확인
   - 필수 컬럼 누락 확인
   - 숫자 형식 확인 (쉼표 제거)

### ⚠️ 주의사항

1. **파일 크기**
   - 최대 10MB까지 지원
   - 한 번에 100개 이하 권장

2. **인코딩**
   - CSV는 UTF-8 또는 CP949(한글) 사용
   - Excel은 자동 처리

3. **숫자 형식**
   - 쉼표(,) 없이 입력: 3000000 ✅
   - 쉼표 있으면 오류: 3,000,000 ❌

4. **불린 값**
   - 도로접함: 예/아니오, O/X, 1/0
   - 대소문자 구분 없음

---

## 🐛 문제 해결

### 문제 1: "필수 컬럼이 누락되었습니다"

**원인**: 필수 컬럼이 없거나 컬럼명이 다름

**해결**:
1. 템플릿과 비교
2. 컬럼명 확인 (띄어쓰기 주의)
3. 필수 컬럼 모두 포함

### 문제 2: "파일을 읽을 수 없습니다"

**원인**: 파일 형식 또는 인코딩 문제

**해결**:
1. 파일 확장자 확인 (.xlsx, .csv, .json)
2. Excel로 다시 저장
3. CSV는 UTF-8로 저장

### 문제 3: "지목이 올바르지 않습니다"

**원인**: 지원하지 않는 지목 입력

**해결**:
1. 지목 종류 목록 확인
2. 정확한 이름 입력
3. 띄어쓰기 없이 입력

### 문제 4: "면적/공시지가가 이상합니다"

**원인**: 숫자 형식 오류 또는 비현실적인 값

**해결**:
1. 쉼표 제거
2. 단위 확인 (면적: ㎡, 공시지가: 원/㎡)
3. 값의 범위 확인

---

## 📊 일괄 분석 기능

### 사용 시나리오

**시나리오 1: 포트폴리오 분석**
- 보유 중인 여러 토지를 한 번에 분석
- 투자 가치 비교
- 리스크 평가

**시나리오 2: 매물 비교**
- 구매 검토 중인 여러 토지 비교
- 최적의 투자처 선택
- 가격 대비 가치 분석

**시나리오 3: 고객 상담**
- 고객의 여러 토지 분석
- 종합 리포트 제공
- 투자 추천

### 주의사항

- ⚠️ API 사용량 증가
- ⚠️ 분석 시간 소요
- ⚠️ Premium 이상 권장

---

## 🎓 실전 예제

### 예제 1: 단일 토지 분석

```
1. Excel 템플릿 다운로드
2. 한 줄만 입력:
   - 주소: 경기도 성남시 분당구 정자동 123-45
   - 지목: 대지
   - 면적: 500
   - 공시지가: 3000000
   - 용도지역: 제2종일반주거지역
3. 파일 업로드
4. 분석 시작
```

### 예제 2: 여러 토지 비교

```
1. Excel 템플릿 다운로드
2. 여러 줄 입력 (5~10개)
3. 파일 업로드
4. "모든 토지 일괄 분석" 체크
5. 분석 시작
6. 전체 결과 다운로드
```

### 예제 3: CSV로 간단히

```
1. CSV 템플릿 다운로드
2. Excel이나 메모장으로 편집
3. 쉼표로 구분된 데이터 입력
4. UTF-8로 저장
5. 업로드 및 분석
```

---

## 📥 결과 다운로드

### 단일 분석
- 분석 결과 화면에서 확인
- JSON 또는 텍스트로 다운로드

### 일괄 분석
- 첫 번째 토지 결과 표시
- 전체 결과 JSON 다운로드
- Excel로 변환하여 비교 가능

---

## 🚀 고급 활용

### 1. 데이터 자동화
```python
# Python으로 데이터 생성
import pandas as pd

data = {
    '주소': ['주소1', '주소2'],
    '지목': ['대지', '전'],
    '면적': [500, 800],
    '공시지가': [3000000, 2500000],
    '용도지역': ['제2종일반주거지역', '자연녹지지역']
}

df = pd.DataFrame(data)
df.to_excel('토지정보.xlsx', index=False)
```

### 2. API 연동
```python
# 공공 API에서 데이터 가져와서 파일 생성
# 토지 AI 시스템에 업로드
```

### 3. 정기 분석
```
1. 매월 보유 토지 정보 업데이트
2. 파일 업로드
3. 가치 변동 추적
4. 투자 전략 수정
```

---

## 📞 지원

문제가 있거나 질문이 있으면:
- **GitHub Issues**: 버그 리포트
- **이메일**: support@land-ai.com
- **문서**: README_COMMERCIAL.md

---

**🎉 이제 파일 업로드로 빠르고 편리하게 토지를 분석하세요!**

---

**작성일**: 2024-11-30  
**버전**: 1.0  
**작성자**: Kiro AI Assistant
